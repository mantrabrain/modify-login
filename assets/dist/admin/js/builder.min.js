jQuery(document).ready((function(t){function e(){var e=t("#login-preview"),n={};t(".form-group input, .form-group textarea, .form-group select").each((function(){n[t(this).attr("name")]=t(this).val()}));var o=e[0].contentDocument||e[0].contentWindow.document,a=o.createElement("style"),c="\n            body.login {\n                background-color: ".concat(n.background_color||"#ffffff",";\n                ").concat(n.background_image?"\n                    background-image: url('".concat(n.background_image,"');\n                    background-size: ").concat(n.background_size||"cover",";\n                    background-position: ").concat(n.background_position||"center center",";\n                    background-repeat: ").concat(n.background_repeat||"no-repeat",";\n                "):"background-image: none;","\n            }\n            #login {\n                background: ").concat(n.form_background||"#ffffff",";\n                border-radius: ").concat(n.form_border_radius||"4px",";\n                padding: ").concat(n.form_padding||"20px",";\n            }\n            .wp-core-ui .button-primary {\n                background: ").concat(n.button_color||"#0073aa",";\n                border-color: ").concat(n.button_color||"#0073aa",";\n                color: ").concat(n.button_text_color||"#ffffff",";\n            }\n        ");n.logo_url?c+="\n                .login h1 a {\n                    background-image: url('".concat(n.logo_url,"');\n                    width: ").concat(n.logo_width||"84px",";\n                    height: ").concat(n.logo_height||"84px",";\n                    background-size: contain;\n                    background-position: center;\n                    background-repeat: no-repeat;\n                    text-indent: -9999px;\n                    text-align: ").concat(n.logo_position||"center",";\n                }\n            "):c+="\n                .login h1 a {\n                    background-image: none;\n                    width: auto;\n                    height: auto;\n                    text-indent: 0;\n                }\n            ",n.custom_css&&(c+=n.custom_css),a.textContent=c,o.head.appendChild(a)}t('input[type="color"]').wpColorPicker(),t(".upload-button").on("click",(function(n){n.preventDefault();var o=t(this).prev('input[type="text"]'),a=(o.attr("id"),wp.media({title:"Select Image",button:{text:"Use this image"},multiple:!1}));a.on("select",(function(){var t=a.state().get("selection").first().toJSON();o.val(t.url),e()})),a.open()})),t(".remove-button").on("click",(function(n){n.preventDefault(),t(this).prev().prev('input[type="text"]').val(""),e()})),t(".toggle-image-properties").on("click",(function(e){e.preventDefault();var n=t(this),o=n.data("target"),a=t("#".concat(o));if(t(".image-properties.active").not(a).removeClass("active"),a.toggleClass("active"),a.hasClass("active")){var c=n[0].getBoundingClientRect();a.css({top:c.bottom+window.scrollY+5,left:c.left+window.scrollX-a.width()+c.width})}})),t(document).on("click",(function(e){t(e.target).closest(".image-properties, .toggle-image-properties").length||t(".image-properties.active").removeClass("active")})),t(".close-popover").on("click",(function(e){e.preventDefault(),t(this).closest(".image-properties").removeClass("active")})),t(".form-group input, .form-group textarea, .form-group select").on("change input",(function(){e()})),t(".save-button").on("click",(function(e){e.preventDefault();var n=t(this),o=new FormData;o.append("action","modify_login_save_builder_settings"),o.append("nonce",modifyLoginBuilder.nonce),t(".form-group input, .form-group textarea, .form-group select").each((function(){o.append(t(this).attr("name"),t(this).val())})),n.prop("disabled",!0).text("Saving..."),t.ajax({url:modifyLoginBuilder.ajax_url,type:"POST",data:o,processData:!1,contentType:!1,success:function(t){t.success?(n.text("Settings Saved!"),setTimeout((function(){n.text("Save Settings")}),2e3)):(n.text("Error Saving"),setTimeout((function(){n.text("Save Settings")}),2e3))},error:function(){n.text("Error Saving"),setTimeout((function(){n.text("Save Settings")}),2e3)},complete:function(){n.prop("disabled",!1)}})})),e()}));
//# sourceMappingURL=admin\js\builder.min.js.map